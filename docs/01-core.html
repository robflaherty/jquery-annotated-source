<!DOCTYPE html>
<html>
<head><title>01-core.js</title>
   <meta http-equiv="content-type" content="text/html; charset=UTF-8">
   <link rel="stylesheet" media="all" href="docco.css"/>
</head>
<body>
<div id="container">
<div id="background"></div>
<table cellpadding="0" cellspacing="0">
<thead>
<tr>
   <th class="docs"><h1> 01-core.js </h1></th>
   <th class="code"></th>
</tr>
</thead>
<tbody>
<tr id="section-1">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-1">&#182;</a></div>
      <p><strong>jQuery Annotated Source</strong>. You can view the source and contribute on
         <a href="https://github.com/robflaherty/jquery-annotated-source">Github</a>.</p>

      <p><a href="/jquery-annotated-source/">Home</a> | <a href="02-callbacks.html">Next Chapter</a></p></td>
   <td class="code">
      <div class="highlight">
         <pre></pre>
      </div>
   </td>
</tr>
<tr id="section-2">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-2">&#182;</a></div>
      <p>jQuery JavaScript Library v1.7.2
         http://jquery.com/</p>

      <p>Copyright 2011, John Resig
         Dual licensed under the MIT or GPL Version 2 licenses.
         http://jquery.org/license</p>

      <p>Includes Sizzle.js
         http://sizzlejs.com/
         Copyright 2011, The Dojo Foundation
         Released under the MIT, BSD, and GPL Licenses.</p>

      <p>Date: Wed Mar 21 12:46:34 2012 -0700</p></td>
   <td class="code">
      <div class="highlight"><pre>


</pre>
      </div>
   </td>
</tr>
<tr id="section-3">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-3">&#182;</a></div>
      <h2>Chapter 1: Core</h2></td>
   <td class="code">
      <div class="highlight"><pre>

<span class="kd">var</span> <span class="nx">jQuery</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-4">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-4">&#182;</a></div>
      <p>Define a local copy of jQuery</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="kd">var</span> <span class="nx">jQuery</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-5">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-5">&#182;</a></div>
      <p>The jQuery object is actually just the init constructor 'enhanced'</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">return</span> <span class="k">new</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">rootjQuery</span><span class="p">);</span>
         <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-6">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-6">&#182;</a></div>
      <p>Map over jQuery in case of overwrite</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">_jQuery</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-7">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-7">&#182;</a></div>
      <p>Map over the $ in case of overwrite</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">_$</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">$</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-8">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-8">&#182;</a></div>
      <p>A central reference to the root jQuery(document)</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">rootjQuery</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-9">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-9">&#182;</a></div>
      <p>A simple way to check for HTML strings or ID strings
         Prioritize #id over
         <tag> to avoid XSS via location.hash (#9521)
      </p>
   </td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">quickExpr</span> <span class="o">=</span> <span class="sr">/^(?:[^#&lt;]*(&lt;[\w\W]+&gt;)[^&gt;]*$|#([\w\-]*)$)/</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-10">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-10">&#182;</a></div>
      <p>Check if a string has a non-whitespace character in it</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">rnotwhite</span> <span class="o">=</span> <span class="sr">/\S/</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-11">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-11">&#182;</a></div>
      <p>Used for trimming whitespace</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">trimLeft</span> <span class="o">=</span> <span class="sr">/^\s+/</span><span class="p">,</span>
         <span class="nx">trimRight</span> <span class="o">=</span> <span class="sr">/\s+$/</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-12">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-12">&#182;</a></div>
      <p>Match a standalone tag</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">rsingleTag</span> <span class="o">=</span> <span class="sr">/^&lt;(\w+)\s*\/?&gt;(?:&lt;\/\1&gt;)?$/</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-13">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-13">&#182;</a></div>
      <p>JSON RegExp</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">rvalidchars</span> <span class="o">=</span> <span class="sr">/^[\],:{}\s]*$/</span><span class="p">,</span>
         <span class="nx">rvalidescape</span> <span class="o">=</span> <span class="sr">/\\(?:[&quot;\\\/bfnrt]|u[0-9a-fA-F]{4})/g</span><span class="p">,</span>
         <span class="nx">rvalidtokens</span> <span class="o">=</span> <span class="sr">/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span><span class="p">,</span>
         <span class="nx">rvalidbraces</span> <span class="o">=</span> <span class="sr">/(?:^|:|,)(?:\s*\[)+/g</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-14">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-14">&#182;</a></div>
      <p>Useragent RegExp</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">rwebkit</span> <span class="o">=</span> <span class="sr">/(webkit)[ \/]([\w.]+)/</span><span class="p">,</span>
         <span class="nx">ropera</span> <span class="o">=</span> <span class="sr">/(opera)(?:.*version)?[ \/]([\w.]+)/</span><span class="p">,</span>
         <span class="nx">rmsie</span> <span class="o">=</span> <span class="sr">/(msie) ([\w.]+)/</span><span class="p">,</span>
         <span class="nx">rmozilla</span> <span class="o">=</span> <span class="sr">/(mozilla)(?:.*? rv:([\w.]+))?/</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-15">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-15">&#182;</a></div>
      <p>Matches dashed string for camelizing</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">rdashAlpha</span> <span class="o">=</span> <span class="sr">/-([a-z]|[0-9])/ig</span><span class="p">,</span>
         <span class="nx">rmsPrefix</span> <span class="o">=</span> <span class="sr">/^-ms-/</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-16">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-16">&#182;</a></div>
      <p>Used by jQuery.camelCase as callback to replace()</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">fcamelCase</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">all</span><span class="p">,</span> <span class="nx">letter</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="p">(</span> <span class="nx">letter</span> <span class="o">+</span> <span class="s2">&quot;&quot;</span> <span class="p">).</span><span class="nx">toUpperCase</span><span class="p">();</span>
         <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-17">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-17">&#182;</a></div>
      <p>Keep a UserAgent string for use with jQuery.browser</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">userAgent</span> <span class="o">=</span> <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-18">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-18">&#182;</a></div>
      <p>For matching the engine and version of the browser</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">browserMatch</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-19">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-19">&#182;</a></div>
      <p>The deferred used on DOM ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">readyList</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-20">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-20">&#182;</a></div>
      <p>The ready event handler</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">DOMContentLoaded</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-21">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-21">&#182;</a></div>
      <p>Save a reference to some core methods</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">toString</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">,</span>
         <span class="nx">hasOwn</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">,</span>
         <span class="nx">push</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">push</span><span class="p">,</span>
         <span class="nx">slice</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">,</span>
         <span class="nx">trim</span> <span class="o">=</span> <span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span><span class="p">,</span>
         <span class="nx">indexOf</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-22">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-22">&#182;</a></div>
      <p>[[Class]] -> type pairs</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">class2type</span> <span class="o">=</span> <span class="p">{};</span>

   <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">constructor</span><span class="o">:</span><span class="nx">jQuery</span><span class="p">,</span>
      <span class="nx">init</span><span class="o">:</span>       <span class="kd">function</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">rootjQuery</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">match</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">ret</span><span class="p">,</span> <span class="nx">doc</span><span class="p">;</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-23">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-23">&#182;</a></div>
      <p>Handle $(""), $(null), or $(undefined)</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-24">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-24">&#182;</a></div>
      <p>Handle $(DOMElement)</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">nodeType</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-25">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-25">&#182;</a></div>
      <p>The body element only exists once, optimize finding it</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;body&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">context</span> <span class="o">&amp;&amp;</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>
            <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-26">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-26">&#182;</a></div>
      <p>Handle HTML strings</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">selector</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-27">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-27">&#182;</a></div>
      <p>Are we dealing with HTML string or an ID?</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;&lt;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;&gt;&quot;</span> <span class="o">&amp;&amp;</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-28">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-28">&#182;</a></div>
      <p>Assume that strings that start and end with &lt;> are HTML and skip the regex check</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="nx">match</span> <span class="o">=</span> <span class="p">[</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="kc">null</span> <span class="p">];</span>

            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="nx">match</span> <span class="o">=</span> <span class="nx">quickExpr</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>
            <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-29">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-29">&#182;</a></div>
      <p>Verify a match, and that no context was specified for #id</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="nx">match</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="o">!</span><span class="nx">context</span><span class="p">))</span> <span class="p">{</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-30">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-30">&#182;</a></div>
      <p>HANDLE: $(html) -> $(array)</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="k">if</span> <span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
                  <span class="nx">context</span> <span class="o">=</span> <span class="nx">context</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">?</span> <span class="nx">context</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">:</span> <span class="nx">context</span><span class="p">;</span>
                  <span class="nx">doc</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">context</span> <span class="o">?</span> <span class="nx">context</span><span class="p">.</span><span class="nx">ownerDocument</span> <span class="o">||</span> <span class="nx">context</span> <span class="o">:</span> <span class="nb">document</span> <span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-31">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-31">&#182;</a></div>
      <p>If a single string is passed in and it's a single tag
         just do a createElement and skip the rest</p></td>
   <td class="code">
      <div class="highlight"><pre>
                  <span class="nx">ret</span> <span class="o">=</span> <span class="nx">rsingleTag</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>

                  <span class="k">if</span> <span class="p">(</span><span class="nx">ret</span><span class="p">)</span> <span class="p">{</span>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">context</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">selector</span> <span class="o">=</span> <span class="p">[</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">];</span>
                        <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">attr</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

                     <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="nx">selector</span> <span class="o">=</span> <span class="p">[</span> <span class="nx">doc</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">ret</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="p">];</span>
                     <span class="p">}</span>

                  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                     <span class="nx">ret</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">buildFragment</span><span class="p">([</span> <span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">],</span> <span class="p">[</span> <span class="nx">doc</span> <span class="p">]);</span>
                     <span class="nx">selector</span> <span class="o">=</span> <span class="p">(</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">cacheable</span> <span class="o">?</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">ret</span><span class="p">.</span><span class="nx">fragment</span><span class="p">)</span> <span class="o">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">fragment</span> <span class="p">).</span><span class="nx">childNodes</span><span class="p">;</span>
                  <span class="p">}</span>

                  <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">selector</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-32">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-32">&#182;</a></div>
      <p>HANDLE: $("#id")</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                  <span class="nx">elem</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-33">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-33">&#182;</a></div>
      <p>Check parentNode to catch when Blackberry 4.6 returns
         nodes that are no longer in the document #6963</p></td>
   <td class="code">
      <div class="highlight"><pre>
                  <span class="k">if</span> <span class="p">(</span><span class="nx">elem</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-34">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-34">&#182;</a></div>
      <p>Handle the case where IE and Opera return items
         by name instead of ID</p></td>
   <td class="code">
      <div class="highlight"><pre>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">elem</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="nx">rootjQuery</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>
                     <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-35">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-35">&#182;</a></div>
      <p>Otherwise, we inject the element directly into the jQuery object</p></td>
   <td class="code">
      <div class="highlight"><pre>
                     <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                     <span class="k">this</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nx">elem</span><span class="p">;</span>
                  <span class="p">}</span>

                  <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nb">document</span><span class="p">;</span>
                  <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">;</span>
                  <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
               <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-36">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-36">&#182;</a></div>
      <p>HANDLE: $(expr, $(...))</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">context</span> <span class="o">||</span> <span class="nx">context</span><span class="p">.</span><span class="nx">jquery</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">return</span> <span class="p">(</span> <span class="nx">context</span> <span class="o">||</span> <span class="nx">rootjQuery</span> <span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-37">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-37">&#182;</a></div>
      <p>HANDLE: $(expr, context)
         (which is just equivalent to: $(context).find(expr)</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span><span class="nx">context</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>
            <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-38">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-38">&#182;</a></div>
      <p>HANDLE: $(function)
         Shortcut for document ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">selector</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">rootjQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="nx">selector</span><span class="p">);</span>
         <span class="p">}</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">selector</span><span class="p">.</span><span class="nx">selector</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">selector</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="nx">selector</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">makeArray</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-39">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-39">&#182;</a></div>
      <p>Start with an empty selector</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">selector</span><span class="o">:</span>   <span class="s2">&quot;&quot;</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-40">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-40">&#182;</a></div>
      <p>The current version of jQuery being used</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">jquery</span><span class="o">:</span>     <span class="s2">&quot;@VERSION&quot;</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-41">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-41">&#182;</a></div>
      <p>The default length of a jQuery object is 0</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">length</span><span class="o">:</span>     <span class="mi">0</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-42">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-42">&#182;</a></div>
      <p>The number of elements contained in the matched element set</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">size</span><span class="o">:</span>       <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">toArray</span><span class="o">:</span>  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-43">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-43">&#182;</a></div>
      <p>Get the Nth element in the matched element set OR
         Get the whole matched element set as a clean array</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">get</span><span class="o">:</span>      <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">num</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-44">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-44">&#182;</a></div>
      <p>Return a 'clean' array</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="k">this</span><span class="p">.</span><span class="nx">toArray</span><span class="p">()</span> <span class="o">:</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-45">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-45">&#182;</a></div>
      <p>Return just the object</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="p">(</span> <span class="nx">num</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="k">this</span><span class="p">[</span> <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">num</span> <span class="p">]</span> <span class="o">:</span> <span class="k">this</span><span class="p">[</span> <span class="nx">num</span> <span class="p">]</span> <span class="p">);</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-46">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-46">&#182;</a></div>
      <p>Take an array of elements and push it onto the stack
         (returning the new matched element set)</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">pushStack</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">selector</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-47">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-47">&#182;</a></div>
      <p>Build a new jQuery matched element set</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">();</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">elems</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">push</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="nx">elems</span><span class="p">);</span>

         <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="nx">elems</span><span class="p">);</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-48">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-48">&#182;</a></div>
      <p>Add the old object onto the stack (as a reference)</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">ret</span><span class="p">.</span><span class="nx">prevObject</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>

         <span class="nx">ret</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">name</span> <span class="o">===</span> <span class="s2">&quot;find&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ret</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">+</span> <span class="p">(</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">?</span> <span class="s2">&quot; &quot;</span> <span class="o">:</span> <span class="s2">&quot;&quot;</span> <span class="p">)</span> <span class="o">+</span> <span class="nx">selector</span><span class="p">;</span>
         <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">ret</span><span class="p">.</span><span class="nx">selector</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">selector</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="nx">selector</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-49">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-49">&#182;</a></div>
      <p>Return the newly-formed element set</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-50">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-50">&#182;</a></div>
      <p>Execute a callback for every element in the matched set.
         (You can seed the arguments with an array of args, but this is
         only used internally.)</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">each</span><span class="o">:</span>     <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">ready</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-51">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-51">&#182;</a></div>
      <p>Attach the listeners</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">jQuery</span><span class="p">.</span><span class="nx">bindReady</span><span class="p">();</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-52">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-52">&#182;</a></div>
      <p>Add the callback</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">readyList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">fn</span><span class="p">);</span>

         <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">eq</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">i</span> <span class="o">=</span> <span class="o">+</span><span class="nx">i</span><span class="p">;</span>
         <span class="k">return</span> <span class="nx">i</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span> <span class="o">?</span>
               <span class="k">this</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="o">:</span>
               <span class="k">this</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">first</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">last</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">eq</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">slice</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">slice</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">),</span>
               <span class="s2">&quot;slice&quot;</span><span class="p">,</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">));</span>
      <span class="p">},</span>

      <span class="nx">map</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">pushStack</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">elem</span><span class="p">);</span>
         <span class="p">}));</span>
      <span class="p">},</span>

      <span class="nx">end</span><span class="o">:</span>   <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevObject</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">constructor</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-53">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-53">&#182;</a></div>
      <p>For internal use only.
         Behaves like an Array's method, not like a jQuery method.</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">push</span><span class="o">:</span>  <span class="nx">push</span><span class="p">,</span>
      <span class="nx">sort</span><span class="o">:</span>  <span class="p">[].</span><span class="nx">sort</span><span class="p">,</span>
      <span class="nx">splice</span><span class="o">:</span><span class="p">[].</span><span class="nx">splice</span>
   <span class="p">};</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-54">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-54">&#182;</a></div>
      <p>Give the init function the jQuery prototype for later instantiation</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">;</span>

   <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">extend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">src</span><span class="p">,</span> <span class="nx">copy</span><span class="p">,</span> <span class="nx">copyIsArray</span><span class="p">,</span> <span class="nx">clone</span><span class="p">,</span>
            <span class="nx">target</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">||</span> <span class="p">{},</span>
            <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">length</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
            <span class="nx">deep</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-55">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-55">&#182;</a></div>
      <p>Handle a deep copy situation</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">target</span> <span class="o">===</span> <span class="s2">&quot;boolean&quot;</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">deep</span> <span class="o">=</span> <span class="nx">target</span><span class="p">;</span>
         <span class="nx">target</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="p">{};</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-56">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-56">&#182;</a></div>
      <p>skip the boolean and the target</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
      <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-57">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-57">&#182;</a></div>
      <p>Handle case when target is a string or something (possible in deep copy)</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">target</span> <span class="o">!==</span> <span class="s2">&quot;object&quot;</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">target</span><span class="p">))</span> <span class="p">{</span>
         <span class="nx">target</span> <span class="o">=</span> <span class="p">{};</span>
      <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-58">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-58">&#182;</a></div>
      <p>extend jQuery itself if only one argument is passed</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="k">if</span> <span class="p">(</span><span class="nx">length</span> <span class="o">===</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">target</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
         <span class="o">--</span><span class="nx">i</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-59">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-59">&#182;</a></div>
      <p>Only deal with non-null/undefined values</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">((</span><span class="nx">options</span> <span class="o">=</span> <span class="nx">arguments</span><span class="p">[</span> <span class="nx">i</span> <span class="p">])</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-60">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-60">&#182;</a></div>
      <p>Extend the base object</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">for</span> <span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">src</span> <span class="o">=</span> <span class="nx">target</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>
               <span class="nx">copy</span> <span class="o">=</span> <span class="nx">options</span><span class="p">[</span> <span class="nx">name</span> <span class="p">];</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-61">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-61">&#182;</a></div>
      <p>Prevent never-ending loop</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="k">if</span> <span class="p">(</span><span class="nx">target</span> <span class="o">===</span> <span class="nx">copy</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">continue</span><span class="p">;</span>
               <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-62">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-62">&#182;</a></div>
      <p>Recurse if we're merging plain objects or arrays</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="k">if</span> <span class="p">(</span><span class="nx">deep</span> <span class="o">&amp;&amp;</span> <span class="nx">copy</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">copy</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">copyIsArray</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">copy</span><span class="p">))</span> <span class="p">))</span> <span class="p">{</span>
                  <span class="k">if</span> <span class="p">(</span><span class="nx">copyIsArray</span><span class="p">)</span> <span class="p">{</span>
                     <span class="nx">copyIsArray</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                     <span class="nx">clone</span> <span class="o">=</span> <span class="nx">src</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="o">?</span> <span class="nx">src</span> <span class="o">:</span> <span class="p">[];</span>

                  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                     <span class="nx">clone</span> <span class="o">=</span> <span class="nx">src</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="o">?</span> <span class="nx">src</span> <span class="o">:</span> <span class="p">{};</span>
                  <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-63">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-63">&#182;</a></div>
      <p>Never move original objects, clone them</p></td>
   <td class="code">
      <div class="highlight"><pre>
                  <span class="nx">target</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">deep</span><span class="p">,</span> <span class="nx">clone</span><span class="p">,</span> <span class="nx">copy</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-64">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-64">&#182;</a></div>
      <p>Don't bring in undefined values</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">copy</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">target</span><span class="p">[</span> <span class="nx">name</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">copy</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-65">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-65">&#182;</a></div>
      <p>Return the modified object</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="k">return</span> <span class="nx">target</span><span class="p">;</span>
   <span class="p">};</span>

   <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
      <span class="nx">noConflict</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">deep</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">===</span> <span class="nx">jQuery</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">$</span> <span class="o">=</span> <span class="nx">_$</span><span class="p">;</span>
         <span class="p">}</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">deep</span> <span class="o">&amp;&amp;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">===</span> <span class="nx">jQuery</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">jQuery</span> <span class="o">=</span> <span class="nx">_jQuery</span><span class="p">;</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">jQuery</span><span class="p">;</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-66">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-66">&#182;</a></div>
      <p>Is the DOM ready to be used? Set to true once it occurs.</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">isReady</span><span class="o">:</span>   <span class="kc">false</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-67">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-67">&#182;</a></div>
      <p>A counter to track how many items to wait for before
         the ready event fires. See #6781</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">readyWait</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-68">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-68">&#182;</a></div>
      <p>Hold (or release) the ready event</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">holdReady</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">hold</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">hold</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">readyWait</span><span class="o">++</span><span class="p">;</span>
         <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
         <span class="p">}</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-69">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-69">&#182;</a></div>
      <p>Handle when the DOM is ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">ready</span><span class="o">:</span>     <span class="kd">function</span><span class="p">(</span><span class="nx">wait</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-70">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-70">&#182;</a></div>
      <p>Either a released hold or an DOMready/load event and not yet ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">((</span><span class="nx">wait</span> <span class="o">===</span> <span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="o">!--</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">readyWait</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">wait</span> <span class="o">!==</span> <span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isReady</span><span class="p">))</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-71">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-71">&#182;</a></div>
      <p>Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
            <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-72">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-72">&#182;</a></div>
      <p>Remember that the DOM is ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isReady</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-73">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-73">&#182;</a></div>
      <p>If a normal DOM Ready event fired, decrement, and wait if need be</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="nx">wait</span> <span class="o">!==</span> <span class="kc">true</span> <span class="o">&amp;&amp;</span> <span class="o">--</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">readyWait</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-74">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-74">&#182;</a></div>
      <p>If there are functions bound, to execute</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nx">readyList</span><span class="p">.</span><span class="nx">fireWith</span><span class="p">(</span><span class="nb">document</span><span class="p">,</span> <span class="p">[</span> <span class="nx">jQuery</span> <span class="p">]);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-75">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-75">&#182;</a></div>
      <p>Trigger any bound ready events</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">trigger</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">).</span><span class="nx">off</span><span class="p">(</span><span class="s2">&quot;ready&quot;</span><span class="p">);</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">},</span>

      <span class="nx">bindReady</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">readyList</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
         <span class="p">}</span>

         <span class="nx">readyList</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">Callbacks</span><span class="p">(</span><span class="s2">&quot;once memory&quot;</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-76">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-76">&#182;</a></div>
      <p>Catch cases where $(document).ready() is called after the
         browser event has already occurred.</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="s2">&quot;complete&quot;</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-77">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-77">&#182;</a></div>
      <p>Handle it asynchronously to allow scripts the opportunity to delay ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">return</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-78">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-78">&#182;</a></div>
      <p>Mozilla, Opera and webkit nightlies currently support this event</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-79">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-79">&#182;</a></div>
      <p>Use the handy event callback</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-80">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-80">&#182;</a></div>
      <p>A fallback to window.onload, that will always work</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;load&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-81">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-81">&#182;</a></div>
      <p>If IE event model is used</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-82">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-82">&#182;</a></div>
      <p>ensure firing before onload,
         maybe late but safe also for iframes</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nb">document</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;onreadystatechange&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-83">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-83">&#182;</a></div>
      <p>A fallback to window.onload, that will always work</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nb">window</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&quot;onload&quot;</span><span class="p">,</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-84">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-84">&#182;</a></div>
      <p>If IE and not a frame
         continually check to see if the document is ready</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="kd">var</span> <span class="nx">toplevel</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

            <span class="k">try</span> <span class="p">{</span>
               <span class="nx">toplevel</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">frameElement</span> <span class="o">==</span> <span class="kc">null</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">doScroll</span> <span class="o">&amp;&amp;</span> <span class="nx">toplevel</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">doScrollCheck</span><span class="p">();</span>
            <span class="p">}</span>
         <span class="p">}</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-85">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-85">&#182;</a></div>
      <p>See test/unit/core.js for details concerning isFunction.
         Since version 1.3, DOM methods and functions like alert
         aren't supported. They return false on IE (#2968).</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">isFunction</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">isArray</span><span class="o">:</span><span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="s2">&quot;array&quot;</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">isWindow</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">obj</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">obj</span> <span class="o">==</span> <span class="nx">obj</span><span class="p">.</span><span class="nb">window</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">isNumeric</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="o">!</span><span class="nb">isNaN</span><span class="p">(</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">obj</span><span class="p">))</span> <span class="o">&amp;&amp;</span> <span class="nb">isFinite</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">type</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">obj</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
               <span class="nb">String</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">:</span>
               <span class="nx">class2type</span><span class="p">[</span> <span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;object&quot;</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">isPlainObject</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-86">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-86">&#182;</a></div>
      <p>Must be an Object.
         Because of IE, we also have to check the presence of the constructor property.
         Make sure that DOM nodes and window objects don't pass through, as well</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">obj</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">!==</span> <span class="s2">&quot;object&quot;</span> <span class="o">||</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">obj</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
         <span class="p">}</span>

         <span class="k">try</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-87">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-87">&#182;</a></div>
      <p>Not own constructor property must be Object</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">&amp;&amp;</span>
                  <span class="o">!</span><span class="nx">hasOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="s2">&quot;constructor&quot;</span><span class="p">)</span> <span class="o">&amp;&amp;</span>
                  <span class="o">!</span><span class="nx">hasOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">constructor</span><span class="p">.</span><span class="nx">prototype</span><span class="p">,</span> <span class="s2">&quot;isPrototypeOf&quot;</span><span class="p">))</span> <span class="p">{</span>
               <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
         <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-88">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-88">&#182;</a></div>
      <p>IE8,9 Will throw exceptions on certain host objects #9897</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-89">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-89">&#182;</a></div>
      <p>Own properties are enumerated firstly, so to speed up,
         if last one is own, then all properties are own.</p></td>
   <td class="code">
      <div class="highlight"><pre>

         <span class="kd">var</span> <span class="nx">key</span><span class="p">;</span>
         <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">key</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">hasOwn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">isEmptyObject</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">error</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">parseJSON</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="o">||</span> <span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-90">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-90">&#182;</a></div>
      <p>Make sure leading/trailing whitespace is removed (IE can't handle it)</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">data</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">trim</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-91">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-91">&#182;</a></div>
      <p>Attempt to parse using the native JSON parser first</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span> <span class="o">&amp;&amp;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">window</span><span class="p">.</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-92">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-92">&#182;</a></div>
      <p>Make sure the incoming data is actual JSON
         Logic borrowed from http://json.org/json2.js</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nx">rvalidchars</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rvalidescape</span><span class="p">,</span> <span class="s2">&quot;@&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rvalidtokens</span><span class="p">,</span> <span class="s2">&quot;]&quot;</span><span class="p">)</span>
               <span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rvalidbraces</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)))</span> <span class="p">{</span>

            <span class="k">return</span> <span class="p">(</span> <span class="k">new</span> <span class="nb">Function</span><span class="p">(</span><span class="s2">&quot;return &quot;</span> <span class="o">+</span> <span class="nx">data</span><span class="p">)</span> <span class="p">)();</span>

         <span class="p">}</span>
         <span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Invalid JSON: &quot;</span> <span class="o">+</span> <span class="nx">data</span><span class="p">);</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-93">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-93">&#182;</a></div>
      <p>Cross-browser xml parsing</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">parseXML</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">data</span> <span class="o">!==</span> <span class="s2">&quot;string&quot;</span> <span class="o">||</span> <span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="kd">var</span> <span class="nx">xml</span><span class="p">,</span> <span class="nx">tmp</span><span class="p">;</span>
         <span class="k">try</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">DOMParser</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Standard</span>
               <span class="nx">tmp</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DOMParser</span><span class="p">();</span>
               <span class="nx">xml</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">.</span><span class="nx">parseFromString</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="s2">&quot;text/xml&quot;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">// IE</span>
               <span class="nx">xml</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ActiveXObject</span><span class="p">(</span><span class="s2">&quot;Microsoft.XMLDOM&quot;</span><span class="p">);</span>
               <span class="nx">xml</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span><span class="p">;</span>
               <span class="nx">xml</span><span class="p">.</span><span class="nx">loadXML</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span>
         <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">xml</span> <span class="o">=</span> <span class="kc">undefined</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">xml</span> <span class="o">||</span> <span class="o">!</span><span class="nx">xml</span><span class="p">.</span><span class="nx">documentElement</span> <span class="o">||</span> <span class="nx">xml</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&quot;parsererror&quot;</span><span class="p">).</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">&quot;Invalid XML: &quot;</span> <span class="o">+</span> <span class="nx">data</span><span class="p">);</span>
         <span class="p">}</span>
         <span class="k">return</span> <span class="nx">xml</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">noop</span><span class="o">:</span>      <span class="kd">function</span><span class="p">()</span> <span class="p">{},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-94">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-94">&#182;</a></div>
      <p>Evaluates a script in a global context
         Workarounds based on findings by Jim Driscoll
         http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">globalEval</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">data</span> <span class="o">&amp;&amp;</span> <span class="nx">rnotwhite</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">data</span><span class="p">))</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-95">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-95">&#182;</a></div>
      <p>We use execScript on Internet Explorer
         We use an anonymous function so that context is window
         rather than jQuery in Firefox</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="p">(</span> <span class="nb">window</span><span class="p">.</span><span class="nx">execScript</span> <span class="o">||</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
               <span class="nb">window</span><span class="p">[</span> <span class="s2">&quot;eval&quot;</span> <span class="p">].</span><span class="nx">call</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="nx">data</span><span class="p">);</span>
            <span class="p">}</span> <span class="p">)(</span><span class="nx">data</span><span class="p">);</span>
         <span class="p">}</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-96">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-96">&#182;</a></div>
      <p>Convert dashed to camelCase; used by the css and data modules
         Microsoft forgot to hump their vendor prefix (#9572)</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">camelCase</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">string</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rmsPrefix</span><span class="p">,</span> <span class="s2">&quot;ms-&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">rdashAlpha</span><span class="p">,</span> <span class="nx">fcamelCase</span><span class="p">);</span>
      <span class="p">},</span>

      <span class="nx">nodeName</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span> <span class="o">&amp;&amp;</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">nodeName</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()</span> <span class="o">===</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">();</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-97">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-97">&#182;</a></div>
      <p>args is for internal usage only</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">each</span><span class="o">:</span>     <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
               <span class="nx">length</span> <span class="o">=</span> <span class="nx">object</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
               <span class="nx">isObj</span> <span class="o">=</span> <span class="nx">length</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">object</span><span class="p">);</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">isObj</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">for</span> <span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">object</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">args</span><span class="p">)</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
                     <span class="k">break</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;)</span> <span class="p">{</span>
                  <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">object</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">],</span> <span class="nx">args</span><span class="p">)</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
                     <span class="k">break</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="p">}</span>
            <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-98">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-98">&#182;</a></div>
      <p>A special, fast, case for the most common use of each</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">isObj</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">for</span> <span class="p">(</span><span class="nx">name</span> <span class="k">in</span> <span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">[</span> <span class="nx">name</span> <span class="p">],</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">object</span><span class="p">[</span> <span class="nx">name</span> <span class="p">])</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
                     <span class="k">break</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;)</span> <span class="p">{</span>
                  <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">object</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">object</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">])</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
                     <span class="k">break</span><span class="p">;</span>
                  <span class="p">}</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">object</span><span class="p">;</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-99">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-99">&#182;</a></div>
      <p>Use native String.trim function wherever possible</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">trim</span><span class="o">:</span>     <span class="nx">trim</span> <span class="o">?</span>
            <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">return</span> <span class="nx">text</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
                     <span class="s2">&quot;&quot;</span> <span class="o">:</span>
                     <span class="nx">trim</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
            <span class="p">}</span> <span class="o">:</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-100">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-100">&#182;</a></div>
      <p>Otherwise use our own trimming functionality</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">return</span> <span class="nx">text</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span>
                     <span class="s2">&quot;&quot;</span> <span class="o">:</span>
                     <span class="nx">text</span><span class="p">.</span><span class="nx">toString</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="nx">trimLeft</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="nx">trimRight</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">);</span>
            <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-101">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-101">&#182;</a></div>
      <p>results is for internal usage only</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">makeArray</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">results</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">results</span> <span class="o">||</span> <span class="p">[];</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">array</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-102">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-102">&#182;</a></div>
      <p>The window, strings (and functions) also have 'length'
         Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="kd">var</span> <span class="nx">type</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">type</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;function&quot;</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s2">&quot;regexp&quot;</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isWindow</span><span class="p">(</span><span class="nx">array</span><span class="p">))</span> <span class="p">{</span>
               <span class="nx">push</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="nx">array</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="nx">jQuery</span><span class="p">.</span><span class="nx">merge</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="nx">array</span><span class="p">);</span>
            <span class="p">}</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">inArray</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">array</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">len</span><span class="p">;</span>

         <span class="k">if</span> <span class="p">(</span><span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">indexOf</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">return</span> <span class="nx">indexOf</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">elem</span><span class="p">,</span> <span class="nx">i</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="nx">len</span> <span class="o">=</span> <span class="nx">array</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="nx">i</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">?</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">?</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">+</span> <span class="nx">i</span><span class="p">)</span> <span class="o">:</span> <span class="nx">i</span> <span class="o">:</span> <span class="mi">0</span><span class="p">;</span>

            <span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-103">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-103">&#182;</a></div>
      <p>Skip accessing in sparse arrays</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">array</span> <span class="o">&amp;&amp;</span> <span class="nx">array</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]</span> <span class="o">===</span> <span class="nx">elem</span><span class="p">)</span> <span class="p">{</span>
                  <span class="k">return</span> <span class="nx">i</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">merge</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">first</span><span class="p">,</span> <span class="nx">second</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">first</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
               <span class="nx">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

         <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">second</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">second</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">first</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">second</span><span class="p">[</span> <span class="nx">j</span> <span class="p">];</span>
            <span class="p">}</span>

         <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">second</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">first</span><span class="p">[</span> <span class="nx">i</span><span class="o">++</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">second</span><span class="p">[</span> <span class="nx">j</span><span class="o">++</span> <span class="p">];</span>
            <span class="p">}</span>
         <span class="p">}</span>

         <span class="nx">first</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">i</span><span class="p">;</span>

         <span class="k">return</span> <span class="nx">first</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">grep</span><span class="o">:</span>  <span class="kd">function</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">inv</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">retVal</span><span class="p">;</span>
         <span class="nx">inv</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">inv</span><span class="p">;</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-104">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-104">&#182;</a></div>
      <p>Go through the array, only saving the items
         that pass the validator function</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">retVal</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">callback</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">i</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">inv</span> <span class="o">!==</span> <span class="nx">retVal</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">ret</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span> <span class="nx">i</span> <span class="p">]);</span>
            <span class="p">}</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-105">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-105">&#182;</a></div>
      <p>arg is for internal usage only</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">map</span><span class="o">:</span>   <span class="kd">function</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">ret</span> <span class="o">=</span> <span class="p">[],</span>
               <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
               <span class="nx">length</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-106">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-106">&#182;</a></div>
      <p>jquery objects are treated as arrays</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="nx">isArray</span> <span class="o">=</span> <span class="nx">elems</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">||</span> <span class="nx">length</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">length</span> <span class="o">===</span> <span class="s2">&quot;number&quot;</span> <span class="o">&amp;&amp;</span> <span class="p">(</span> <span class="p">(</span> <span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">elems</span><span class="p">[</span> <span class="mi">0</span> <span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">elems</span><span class="p">[</span> <span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span> <span class="p">]</span> <span class="p">)</span> <span class="o">||</span> <span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">elems</span><span class="p">)</span> <span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-107">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-107">&#182;</a></div>
      <p>Go through the array, translating each of the items to their</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nx">isArray</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">value</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span> <span class="nx">i</span> <span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>

               <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">ret</span><span class="p">[</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-108">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-108">&#182;</a></div>
      <p>Go through every key on the object,</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="nx">elems</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">value</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span> <span class="nx">key</span> <span class="p">],</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">arg</span><span class="p">);</span>

               <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">ret</span><span class="p">[</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">length</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">value</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="p">}</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-109">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-109">&#182;</a></div>
      <p>Flatten any nested arrays</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">return</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">concat</span><span class="p">.</span><span class="nx">apply</span><span class="p">([],</span> <span class="nx">ret</span><span class="p">);</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-110">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-110">&#182;</a></div>
      <p>A global GUID counter for objects</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">guid</span><span class="o">:</span>  <span class="mi">1</span><span class="p">,</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-111">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-111">&#182;</a></div>
      <p>Bind a function to a context, optionally partially applying any
         arguments.</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">proxy</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">fn</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">context</span> <span class="o">===</span> <span class="s2">&quot;string&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">tmp</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">[</span> <span class="nx">context</span> <span class="p">];</span>
            <span class="nx">context</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
            <span class="nx">fn</span> <span class="o">=</span> <span class="nx">tmp</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-112">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-112">&#182;</a></div>
      <p>Quick check to determine if target is callable, in the spec
         this throws a TypeError, but we will just return undefined.</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">fn</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
         <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-113">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-113">&#182;</a></div>
      <p>Simulated bind</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
               <span class="nx">proxy</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                  <span class="k">return</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">args</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">)));</span>
               <span class="p">};</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-114">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-114">&#182;</a></div>
      <p>Set the guid of unique handler to the same of original handler, so it can be removed</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nx">proxy</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">.</span><span class="nx">guid</span> <span class="o">||</span> <span class="nx">proxy</span><span class="p">.</span><span class="nx">guid</span> <span class="o">||</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">guid</span><span class="o">++</span><span class="p">;</span>

         <span class="k">return</span> <span class="nx">proxy</span><span class="p">;</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-115">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-115">&#182;</a></div>
      <p>Mutifunctional method to get and set values to a collection
         The value/s can optionally be executed if it's a function</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">access</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">chainable</span><span class="p">,</span> <span class="nx">emptyGet</span><span class="p">,</span> <span class="nx">pass</span><span class="p">)</span> <span class="p">{</span>
         <span class="kd">var</span> <span class="nx">exec</span><span class="p">,</span>
               <span class="nx">bulk</span> <span class="o">=</span> <span class="nx">key</span> <span class="o">==</span> <span class="kc">null</span><span class="p">,</span>
               <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
               <span class="nx">length</span> <span class="o">=</span> <span class="nx">elems</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-116">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-116">&#182;</a></div>
      <p>Sets many values</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nx">key</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">key</span> <span class="o">===</span> <span class="s2">&quot;object&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
               <span class="nx">jQuery</span><span class="p">.</span><span class="nx">access</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span> <span class="nx">fn</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">key</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">emptyGet</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="nx">chainable</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-117">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-117">&#182;</a></div>
      <p>Sets one value</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-118">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-118">&#182;</a></div>
      <p>Optionally, function values get executed if exec is true</p></td>
   <td class="code">
      <div class="highlight"><pre>
            <span class="nx">exec</span> <span class="o">=</span> <span class="nx">pass</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">bulk</span><span class="p">)</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-119">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-119">&#182;</a></div>
      <p>Bulk operations only iterate when executing function values</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="k">if</span> <span class="p">(</span><span class="nx">exec</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">exec</span> <span class="o">=</span> <span class="nx">fn</span><span class="p">;</span>
                  <span class="nx">fn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elem</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                     <span class="k">return</span> <span class="nx">exec</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">(</span><span class="nx">elem</span><span class="p">),</span> <span class="nx">value</span><span class="p">);</span>
                  <span class="p">};</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-120">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-120">&#182;</a></div>
      <p>Otherwise they run against the entire set</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                  <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">elems</span><span class="p">,</span> <span class="nx">value</span><span class="p">);</span>
                  <span class="nx">fn</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
               <span class="p">}</span>
            <span class="p">}</span>

            <span class="k">if</span> <span class="p">(</span><span class="nx">fn</span><span class="p">)</span> <span class="p">{</span>
               <span class="k">for</span> <span class="p">(;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">fn</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">exec</span> <span class="o">?</span> <span class="nx">value</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">fn</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">key</span><span class="p">))</span> <span class="o">:</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">pass</span><span class="p">);</span>
               <span class="p">}</span>
            <span class="p">}</span>

            <span class="nx">chainable</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
         <span class="p">}</span>

         <span class="k">return</span> <span class="nx">chainable</span> <span class="o">?</span>
               <span class="nx">elems</span> <span class="o">:</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-121">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-121">&#182;</a></div>
      <p>Gets</p></td>
   <td class="code">
      <div class="highlight"><pre>
               <span class="nx">bulk</span> <span class="o">?</span>
                     <span class="nx">fn</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">elems</span><span class="p">)</span> <span class="o">:</span>
                     <span class="nx">length</span> <span class="o">?</span> <span class="nx">fn</span><span class="p">(</span><span class="nx">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">key</span><span class="p">)</span> <span class="o">:</span> <span class="nx">emptyGet</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">now</span><span class="o">:</span>    <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="k">return</span> <span class="p">(</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span> <span class="p">).</span><span class="nx">getTime</span><span class="p">();</span>
      <span class="p">},</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-122">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-122">&#182;</a></div>
      <p>Use of jQuery.browser is frowned upon.
         More details: http://docs.jquery.com/Utilities/jQuery.browser</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">uaMatch</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">ua</span> <span class="o">=</span> <span class="nx">ua</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>

         <span class="kd">var</span> <span class="nx">match</span> <span class="o">=</span> <span class="nx">rwebkit</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span> <span class="o">||</span>
               <span class="nx">ropera</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span> <span class="o">||</span>
               <span class="nx">rmsie</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span> <span class="o">||</span>
               <span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;compatible&quot;</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">rmozilla</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">ua</span><span class="p">)</span> <span class="o">||</span>
               <span class="p">[];</span>

         <span class="k">return</span> <span class="p">{</span> <span class="nx">browser</span><span class="o">:</span><span class="nx">match</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="nx">version</span><span class="o">:</span><span class="nx">match</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">||</span> <span class="s2">&quot;0&quot;</span> <span class="p">};</span>
      <span class="p">},</span>

      <span class="nx">sub</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="kd">function</span> <span class="nx">jQuerySub</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">);</span>
         <span class="p">}</span>

         <span class="nx">jQuery</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="kc">true</span><span class="p">,</span> <span class="nx">jQuerySub</span><span class="p">,</span> <span class="k">this</span><span class="p">);</span>
         <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">superclass</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
         <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="k">this</span><span class="p">();</span>
         <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">constructor</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">;</span>
         <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">sub</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">sub</span><span class="p">;</span>
         <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span> <span class="o">=</span> <span class="kd">function</span> <span class="nx">init</span><span class="p">(</span><span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">context</span> <span class="o">&amp;&amp;</span> <span class="nx">context</span> <span class="k">instanceof</span> <span class="nx">jQuery</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="p">(</span><span class="nx">context</span> <span class="k">instanceof</span> <span class="nx">jQuerySub</span><span class="p">))</span> <span class="p">{</span>
               <span class="nx">context</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">(</span><span class="nx">context</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">return</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">selector</span><span class="p">,</span> <span class="nx">context</span><span class="p">,</span> <span class="nx">rootjQuerySub</span><span class="p">);</span>
         <span class="p">};</span>
         <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">init</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">.</span><span class="nx">fn</span><span class="p">;</span>
         <span class="kd">var</span> <span class="nx">rootjQuerySub</span> <span class="o">=</span> <span class="nx">jQuerySub</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span>
         <span class="k">return</span> <span class="nx">jQuerySub</span><span class="p">;</span>
      <span class="p">},</span>

      <span class="nx">browser</span><span class="o">:</span><span class="p">{}</span>
   <span class="p">});</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-123">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-123">&#182;</a></div>
      <p>Populate the class2type map</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="nx">jQuery</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="s2">&quot;Boolean Number String Function Array Date RegExp Object&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">class2type</span><span class="p">[</span> <span class="s2">&quot;[object &quot;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s2">&quot;]&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="nx">name</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
   <span class="p">});</span>

   <span class="nx">browserMatch</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">.</span><span class="nx">uaMatch</span><span class="p">(</span><span class="nx">userAgent</span><span class="p">);</span>
   <span class="k">if</span> <span class="p">(</span><span class="nx">browserMatch</span><span class="p">.</span><span class="nx">browser</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">jQuery</span><span class="p">.</span><span class="nx">browser</span><span class="p">[</span> <span class="nx">browserMatch</span><span class="p">.</span><span class="nx">browser</span> <span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
      <span class="nx">jQuery</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">version</span> <span class="o">=</span> <span class="nx">browserMatch</span><span class="p">.</span><span class="nx">version</span><span class="p">;</span>
   <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-124">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-124">&#182;</a></div>
      <p>Deprecated, use jQuery.browser.webkit instead</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">webkit</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">jQuery</span><span class="p">.</span><span class="nx">browser</span><span class="p">.</span><span class="nx">safari</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
   <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-125">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-125">&#182;</a></div>
      <p>IE doesn't match non-breaking spaces with \s</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="k">if</span> <span class="p">(</span><span class="nx">rnotwhite</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="s2">&quot;\xA0&quot;</span><span class="p">))</span> <span class="p">{</span>
      <span class="nx">trimLeft</span> <span class="o">=</span> <span class="sr">/^[\s\xA0]+/</span><span class="p">;</span>
      <span class="nx">trimRight</span> <span class="o">=</span> <span class="sr">/[\s\xA0]+$/</span><span class="p">;</span>
   <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-126">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-126">&#182;</a></div>
      <p>All jQuery objects should point back to these</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="nx">rootjQuery</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-127">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-127">&#182;</a></div>
      <p>Cleanup functions for the document ready method</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">DOMContentLoaded</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
         <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s2">&quot;DOMContentLoaded&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
         <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">();</span>
      <span class="p">};</span>

   <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">DOMContentLoaded</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-128">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-128">&#182;</a></div>
      <p>Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">===</span> <span class="s2">&quot;complete&quot;</span><span class="p">)</span> <span class="p">{</span>
            <span class="nb">document</span><span class="p">.</span><span class="nx">detachEvent</span><span class="p">(</span><span class="s2">&quot;onreadystatechange&quot;</span><span class="p">,</span> <span class="nx">DOMContentLoaded</span><span class="p">);</span>
            <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">();</span>
         <span class="p">}</span>
      <span class="p">};</span>
   <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-129">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-129">&#182;</a></div>
      <p>The DOM ready check for Internet Explorer</p></td>
   <td class="code">
      <div class="highlight"><pre>
   <span class="kd">function</span> <span class="nx">doScrollCheck</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">isReady</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">try</span> <span class="p">{</span>

</pre>
      </div>
   </td>
</tr>
<tr id="section-130">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-130">&#182;</a></div>
      <p>If IE is used, use the trick by Diego Perini
         http://javascript.nwbox.com/IEContentLoaded/</p></td>
   <td class="code">
      <div class="highlight"><pre>
         <span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">doScroll</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">doScrollCheck</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
         <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>


</pre>
      </div>
   </td>
</tr>
<tr id="section-131">
   <td class="docs">
      <div class="pilwrap"><a class="pilcrow" href="#section-131">&#182;</a></div>
      <p>and execute any waiting functions</p></td>
   <td class="code">
      <div class="highlight"><pre>
      <span class="nx">jQuery</span><span class="p">.</span><span class="nx">ready</span><span class="p">();</span>
   <span class="p">}</span>

   <span class="k">return</span> <span class="nx">jQuery</span><span class="p">;</span>

<span class="p">})();</span>

</pre>
      </div>
   </td>
</tr>
</tbody>
</table>
</div>
</body>
</html>